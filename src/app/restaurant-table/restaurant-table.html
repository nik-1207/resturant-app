<div>
    <!-- Restaurant Table -->
    <p-table 
        [value]="rowData" 
        #dt2
        [globalFilterFields]="['name', 'description', 'mobile', 'email', 'city', 'state', 'country', 'address']"
        [tableStyle]="{ 'min-width': '50rem' } " 
        paginator="true" 
        [rows]="10" 
        sortMode="multiple">
        
        <ng-template #header>
            <tr>
                <th pSortableColumn="id">
                    <div class="flex items-center gap-2">
                        Id
                        <p-sortIcon field="id" />
                    </div>
                </th>
                <th pSortableColumn="name">
                    <div class="flex items-center gap-2">
                        Name
                        <p-sortIcon field="name" />
                    </div>
                </th>
                <th pSortableColumn="description">
                    <div class="flex items-center gap-2">
                        Description
                        <p-sortIcon field="description" />
                    </div>
                </th>
                <th pSortableColumn="mobile">
                    <div class="flex items-center gap-2">
                        Mobile
                        <p-sortIcon field="mobile" />
                    </div>
                </th>
                <th pSortableColumn="email">
                    <div class="flex items-center gap-2">
                        Email
                        <p-sortIcon field="email" />
                    </div>
                </th>
                <th pSortableColumn="city">
                    <div class="flex items-center gap-2">
                        City
                        <p-sortIcon field="city" />
                    </div>
                </th>
                <th pSortableColumn="state">
                    <div class="flex items-center gap-2">
                        State
                        <p-sortIcon field="state" />
                    </div>
                </th>
                <th pSortableColumn="country">
                    <div class="flex items-center gap-2">
                        Country
                        <p-sortIcon field="country" />
                    </div>
                </th>
                <th pSortableColumn="address">
                    <div class="flex items-center gap-2">
                        Address
                        <p-sortIcon field="address" />
                    </div>
                </th>
                <th>
                    <div class="flex items-center gap-2">
                        Actions
                    </div>
                </th>
            </tr>

            <tr>
                <th>
                    <p-columnFilter type="text" field="id" placeholder="Type to search" ariaLabel="Filter Name"
                        filterOn="input"></p-columnFilter>
                </th>
                <th>
                    <p-columnFilter type="text" field="name" placeholder="Type to search" ariaLabel="Filter Name"
                        filterOn="input"></p-columnFilter>
                </th>
                <th>
                    <p-columnFilter type="text" field="description" placeholder="Type to search" ariaLabel="Filter Name"
                        filterOn="input"></p-columnFilter>
                </th>
                <th>
                    <p-columnFilter type="text" field="mobile" placeholder="Type to search" ariaLabel="Filter Name"
                        filterOn="input"></p-columnFilter>
                </th>
                <th>
                    <p-columnFilter type="text" field="email" placeholder="Type to search" ariaLabel="Filter Name"
                        filterOn="input"></p-columnFilter>
                </th>
                <th>
                    <p-columnFilter type="text" field="city" placeholder="Type to search" ariaLabel="Filter Name"
                        filterOn="input"></p-columnFilter>
                </th>
                <th>
                    <p-columnFilter type="text" field="state" placeholder="Type to search" ariaLabel="Filter Name"
                        filterOn="input"></p-columnFilter>
                </th>
                <th>
                    <p-columnFilter type="text" field="country" placeholder="Type to search" ariaLabel="Filter Name"
                        filterOn="input"></p-columnFilter>
                </th>
                <th>
                    <p-columnFilter type="text" field="address" placeholder="Type to search" ariaLabel="Filter Name"
                        filterOn="input"></p-columnFilter>
                </th>
            </tr>
        </ng-template>
        
        <ng-template #body let-row>
            <tr>
                <td>{{ row.id }}</td>
                <td>{{ row.name }}</td>
                <td>{{ row.description }}</td>
                <td>{{ row.mobile }}</td>
                <td>{{ row.email }}</td>
                <td>{{ row.city }}</td>
                <td>{{ row.state }}</td>
                <td>{{ row.country }}</td>
                <td>{{ row.address }}</td>

                <td style="display: flex; flex-direction: row; align-items: center; justify-content: center; gap: 8px;">
                    <p-button icon="pi pi-pencil" severity="warn" size="small" [rounded]="true"
                        styleClass="hover:bg-blue-600" (onClick)="editRestaurant(row)" />
                    <p-button icon="pi pi-trash" severity="danger" size="small" [rounded]="true"
                        styleClass="hover:bg-red-600" (onClick)="openDeleteDialog(row)" />
                </td>
            </tr>
        </ng-template>
    </p-table>

    <!-- Delete Confirmation Modal -->
    <p-dialog 
        [(visible)]="deleteDialogVisible" 
        modal="true" 
        header="Confirm Delete" 
        [style]="{width: '450px'}"
        [draggable]="false" 
        [resizable]="false">
        
        <div class="confirmation-content">
            <i class="pi pi-exclamation-triangle" style="font-size: 2rem; color: #fbbf24; margin-right: 1rem;"></i>
            <span *ngIf="restaurantToDelete">
                Are you sure you want to delete <strong>{{ restaurantToDelete.name }}</strong>?
            </span>
            <p style="margin: 1rem 0 0 0; color: #6b7280; font-size: 0.875rem;">
                This action cannot be undone.
            </p>
        </div>
        
        <ng-template pTemplate="footer">
            <div style="display: flex; justify-content: flex-end; gap: 0.5rem;">
                <p-button 
                    label="Cancel" 
                    icon="pi pi-times" 
                    (onClick)="cancelDelete()" 
                    [disabled]="deleting"
                    severity="secondary" 
                    [outlined]="true">
                </p-button>
                <p-button 
                    [label]="deleting ? 'Deleting...' : 'Delete'" 
                    [icon]="deleting ? 'pi pi-spin pi-spinner' : 'pi pi-trash'" 
                    (onClick)="confirmDelete()" 
                    [disabled]="deleting"
                    severity="danger">
                </p-button>
            </div>
        </ng-template>
    </p-dialog>
</div>